"use strict";(self.webpackChunkbello=self.webpackChunkbello||[]).push([[625],{2625:function(we,re,v){v.d(re,{iP:function(){return P},HK:function(){return ie},_Q:function(){return N},Ix:function(){return Be}});var ue=v(97857),y=v.n(ue),ae=v(13769),M=v.n(ae),i=v(67294),S=v(93247);function O(a){return typeof a=="undefined"||a===null||a===""||Array.isArray(a)&&a.length===0}var f=v(85893),oe=["children"],q=(0,i.createContext)(null),ie=function(t){var e=t.children,n=M()(t,oe),r=(0,i.useContext)(q),u=(0,i.useMemo)(function(){return Object.assign({},r,n)},[n,r]);return(0,f.jsx)(q.Provider,{value:u,children:e})},se=v(9783),R=v.n(se),I=function(a){return a.REMOVE="REMOVE",a.ADD="ADD",a.MODIFY="MODIFY",a.EMPTY="EMPTY",a}({}),N=function(a){return a.SOURCE="_DIFF_FORM_TYPE_SOURCE_",a.TARGET="_DIFF_FORM_TYPE_TARGET_",a}({}),J={"zh-cn":{ADD:"\u65B0\u589E",REMOVE:"\u5220\u9664",MODIFY:"\u4FEE\u6539",EMPTY:"\u7A7A"},en:{ADD:"New",REMOVE:"Remove",MODIFY:"Modified",EMPTY:"Empty"}},fe=R()(R()(R()(R()({},I.REMOVE,"#ff4d4f"),I.ADD,"#52c41a"),I.MODIFY,"#faad14"),I.EMPTY,"#d9d9d9"),W=(0,i.createContext)({}),b=function(t){var e=t.children,n=t.value,r=(0,i.useContext)(W),u=(0,i.useMemo)(function(){return Object.assign({},r,n)},[n,r]);return(0,f.jsx)(W.Provider,{value:u,children:e})},z=(0,i.createContext)({}),A=function(t){var e=t.children,n=t.value,r=(0,i.useContext)(z),u=(0,i.useMemo)(function(){return Object.assign({},r,n)},[n,r]);return(0,f.jsx)(z.Provider,{value:u,children:e})},le=v(64599),ve=v.n(le),ce=v(19632),E=v.n(ce),de=v(12444),me=v.n(de),he=v(72004),xe=v.n(he),g=v(96486),Z=function(){function a(){me()(this,a),R()(this,"state",{}),R()(this,"subscribers",[])}return xe()(a,[{key:"setState",value:function(e){a.updateState(this.state,e)}},{key:"getSnapshots",value:function(){return this.state}},{key:"getSnapshot",value:function(e){var n=e.names,r=e.type;if(n&&r)return this.state[a.join([r].concat(E()(n)))]}},{key:"getUniqueFieldsSnapshots",value:function(e){var n=e.names,r=e.type,u=e.uniqueKey;if(n&&r&&u)return(0,g.pickBy)(this.state,function(o,s){return new RegExp("^".concat(a.join([a.join([r].concat(E()(n))),"\\d",a.join(u)]),"$")).test(s)})}},{key:"getChildSnapshots",value:function(e){var n=e.names,r=e.type;if(n&&r){var u=a.join([r].concat(E()(n)));return(0,g.pickBy)(this.state,function(o,s){return s.startsWith(u)})}}},{key:"emit",value:function(e){var n=a.join([e.type].concat(E()(e.names)));this.setState(e);var r=ve()(this.subscribers),u;try{for(r.s();!(u=r.n()).done;){var o=u.value;(o.fuzzy&&n.startsWith(o.key)||o.uniqueKey&&new RegExp("^".concat(a.join([(0,g.escapeRegExp)(o.key),"\\d",(0,g.escapeRegExp)(a.join(o.uniqueKey))]),"$")).test(n)||n===o.key)&&o.callback(e)}}catch(s){r.e(s)}finally{r.f()}}},{key:"on",value:function(e,n){var r=this,u=a.join([n.type].concat(E()(n.names))),o=y()(y()({},n),{},{key:u,callback:e});return this.subscribers.push(o),function(){var s=r.subscribers.indexOf(o);s>-1&&r.subscribers.splice(s,1)}}}],[{key:"join",value:function(e){return e.join(a.keySplit)}},{key:"updateState",value:function(e,n){var r=a.join([n.type].concat(E()(n.names)));return n.remove?delete e[r]:e[r]=n,e}}]),a}();R()(Z,"keySplit","_DIFF_FORM_STORE_KEY_SPLIT_");var F=function(){return(0,i.useContext)(W)},G=function(){var t=F(),e=t.type;return e===N.SOURCE?N.TARGET:N.SOURCE},Y=function(t){var e=(0,i.useRef)(t);return e.current=t,(0,i.useCallback)(function(){return e.current.apply(e,arguments)},[])},ye=function(t){var e=(0,i.useRef)(),n=(0,i.useRef)(t);return n.current!==t&&(e.current=n.current,n.current=t),e.current},H=function(t,e){var n=(0,i.useRef)(),r=ye(e);return(typeof e=="undefined"||!(0,g.isEqual)(r,e))&&(n.current=t()),n.current},k=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],u=e.slice(1),o=Y(r);return H(function(){return g.debounce.apply(void 0,[o].concat(E()(u)))},[u])},Fe=v(5574),$=v.n(Fe),B=function(){var t=F(),e=t.statusInfo,n=t.firstStatus,r=(0,i.useState)(!1),u=$()(r,2),o=u[0],s=u[1];(0,i.useEffect)(function(){var c=setTimeout(function(){return s(!0)},350);return function(){return clearTimeout(c)}},[]);var l=(0,i.useMemo)(function(){return n?e:void 0},[n,e]);return o?l:void 0},pe=v(91269),L=function(){return(0,i.useContext)(q)},De=function(){var t,e,n=(0,i.useContext)(pe.ZP.ConfigContext),r=L(),u=(t=(e=n.locale)===null||e===void 0?void 0:e.locale)!==null&&t!==void 0?t:"en";return(0,i.useCallback)(function(o){var s,l,c=r==null?void 0:r.locale,h=(s=J[u])!==null&&s!==void 0?s:J.en,d=Object.assign({},h,c);return(l=d[o])!==null&&l!==void 0?l:o},[u,r==null?void 0:r.locale])},X=function(){var t=De(),e=L();return(0,i.useCallback)(function(n){if(n){var r,u;return{code:n,text:t(n),color:(r=e==null||(u=e.color)===null||u===void 0?void 0:u[n])!==null&&r!==void 0?r:fe[n]}}},[e==null?void 0:e.color,t])},U=function(){return(0,i.useContext)(z)},V=function(t){return H(function(){if(typeof t!="undefined")return Array.isArray(t)?t.length?t:void 0:[t]},[t])},K=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return H(function(){if(!e.some(function(u){return typeof u=="undefined"})){var r=g.concat.apply(void 0,e);return r.length?r:void 0}},[e])},Ce=function(t){var e=V(t),n=F(),r=n.fullNamePath;return K(r,e)},w=function(t){var e=V(t),n=F(),r=n.anotherFieldName,u=n.uniqueKey;return(0,i.useMemo)(function(){return u&&typeof r=="number"&&typeof(e==null?void 0:e[0])=="number"?[r].concat(E()(e.slice(1))):e},[r,e,u])},Q=function(t,e){var n=F(),r=n.store,u=(0,i.useState)(function(){return r==null?void 0:r.getSnapshot({type:t,names:e})}),o=$()(u,2),s=o[0],l=o[1],c=(0,i.useRef)(s),h=Y(function(){l(c.current)}),d=k(function(){h()},300);return(0,i.useEffect)(function(){if(e&&t&&r){c.current=r.getSnapshot({type:t,names:e}),h();var m=r.on(function(x){var D=c.current;c.current=x.remove?void 0:x,D?d():h()},{names:e,type:t});return function(){m(),d.cancel()}}},[t,e,r,d,h]),s},_e=function(t){var e=useDiffFormContext(),n=e.type,r=useNextNames(t);return Q(n,r)},Se=function(t){var e=F(),n=e.anotherFullNamePath,r=G(),u=w(t),o=K(n,u);return Q(r,o)},ge=function(t){var e=F(),n=e.type,r=e.fullNamePath,u=e.uniqueKey,o=K(r,t,u);return Q(n,o)},Pe=function(){var t=F(),e=t.store,n=t.anotherFullNamePath,r=t.uniqueKey,u=G(),o=(0,i.useState)(function(){return e==null?void 0:e.getUniqueFieldsSnapshots({names:n,type:u,uniqueKey:r})}),s=$()(o,2),l=s[0],c=s[1],h=(0,i.useRef)(l),d=Y(function(){c(h.current)}),m=k(function(){d()},300);return(0,i.useEffect)(function(){if(n&&u&&e&&r){h.current=e.getUniqueFieldsSnapshots({names:n,type:u,uniqueKey:r}),d();var x=e.on(function(D){var j=h.current;h.current=j?Z.updateState(y()({},j),D):e==null?void 0:e.getUniqueFieldsSnapshots({names:n,type:u,uniqueKey:r}),j?m():d()},{names:n,type:u,uniqueKey:r});return function(){x(),m.cancel()}}},[n,d,m,e,u,r]),l},Ie=function(t){var e=F(),n=e.store,r=e.anotherFullNamePath,u=K(r,t),o=G(),s=(0,i.useRef)((0,i.useMemo)(function(){return n==null?void 0:n.getChildSnapshots({names:u,type:o})},[])),l=(0,i.useState)(!(0,g.isEmpty)(s.current)),c=$()(l,2),h=c[0],d=c[1],m=Y(function(){d(!(0,g.isEmpty)(s.current))}),x=k(function(){m()},300);return(0,i.useEffect)(function(){if(u&&o&&n){s.current=n.getChildSnapshots({type:o,names:u}),m();var D=n.on(function(j){var C=s.current;s.current=C?Z.updateState(y()({},C),j):n==null?void 0:n.getChildSnapshots({names:u,type:o}),C?x():m()},{names:u,type:o,fuzzy:!0});return function(){D(),x.cancel()}}},[o,u,n,x,m]),h},je=function(t){var e=F(),n=e.uniqueKey,r=e.anotherFullNamePath,u=Pe(),o=ge(t),s=Ie(t);return(0,i.useMemo)(function(){if(n&&u&&o&&r){var l;return(l=(0,g.values)(u).find(function(c){return(0,g.isEqual)(c.value,o.value)}))===null||l===void 0?void 0:l.names[r.length]}return s?t:void 0},[n,u,o,r,s,t])},Ne=v(68400),Ee=v.n(Ne),Me=v(97653),Re=v(93967),Ae=v.n(Re),_,Oe=Me.ZP.div(_||(_=Ee()([`
  &.diff-form-mark{
    padding: 8px;
    border-style: dashed;
    border-top: none;
    border-left-width: 1px;
    border-bottom-width: 1px;
    border-right-width: 1px;
    border-color: `,`;
    position: relative;

    .diff-form-mark-divider{
      position: absolute;
      bottom: 100%;
      width: 100%;
      left: 0;
      transform: translate(0, 50%);
      display: flex;
      align-items: center;

      & > span{
        font-size: 12px;
        color: `,`;

        &:first-child{
          flex: 0 0 25%;
        }

        &:last-child {
          flex: 1;
        }

        &:first-child, &:last-child{
          border-top-width: 1px;
          border-top-style: dashed;
          border-color: `,`;
        }
      }
    }
  }
`])),function(a){var t;return(t=a.$status)===null||t===void 0?void 0:t.color},function(a){var t;return(t=a.$status)===null||t===void 0?void 0:t.color},function(a){var t;return(t=a.$status)===null||t===void 0?void 0:t.color}),ee=function(t){var e=t.className,n=t.style,r=t.children,u=B();return(0,f.jsxs)(Oe,{className:Ae()(e,{"diff-form-mark":u}),style:n,$status:u,children:[u?(0,f.jsxs)("div",{className:"diff-form-mark-divider",children:[(0,f.jsx)("span",{}),(0,f.jsx)("span",{children:u==null?void 0:u.text}),(0,f.jsx)("span",{})]}):null,r]})},be=["children","name","noStatus"],Ke=["children","noStatus"],Te=function(t){var e=t.children,n=t.name,r=t.noStatus,u=M()(t,be),o=F(),s=o.type,l=o.store,c=o.statusInfo,h=o.firstStatus,d=L(),m=Se(n),x=X(),D=Ce(n),j=(0,i.useRef)(l);j.current=l;var C=(0,i.useMemo)(function(){if(s){var p=u.value,T=m==null?void 0:m.value,Xe=function(){if(O(p)&&!O(T))return s===N.SOURCE?I.EMPTY:I.REMOVE;if(!O(p)&&O(T))return s===N.SOURCE?I.REMOVE:I.ADD;if(!O(p)&&!O(T)&&!(0,g.isEqual)(p,T))return I.MODIFY}();return x(Xe)}},[m==null?void 0:m.value,u.value,s,x]),Qe=(0,i.useMemo)(function(){return{statusInfo:C!=null?C:c,firstStatus:!h&&!c&&!!C}},[h,C,c]),Je=(0,i.useMemo)(function(){var p;return(p=d==null?void 0:d.wrapper)!==null&&p!==void 0?p:ee},[d==null?void 0:d.wrapper]);return(0,i.useEffect)(function(){if(D&&s){var p,T=u.value;(p=j.current)===null||p===void 0||p.emit({type:s,names:D,value:T})}},[u.value,D,s]),(0,i.useEffect)(function(){if(s&&D)return function(){var p;return(p=j.current)===null||p===void 0?void 0:p.emit({type:s,names:D,remove:!0})}},[D,s]),(0,f.jsx)(b,{value:Qe,children:r?(0,i.cloneElement)(e,u):(0,f.jsx)(Je,{children:(0,i.cloneElement)(e,u)})})},te=function(t){var e=t.children,n=t.noStatus,r=M()(t,Ke),u=F(),o=V(t.name);return typeof u.type!="undefined"&&o&&(0,i.isValidElement)(e)?(0,f.jsx)(S.Z.Item,y()(y()({},r),{},{children:(0,f.jsx)(Te,{name:r.name,noStatus:r.noStyle||n,children:e})})):(0,f.jsx)(S.Z.Item,y()(y()({},r),{},{children:e}))};te.useStatus=S.Z.Item.useStatus;var Le=["uniqueKey"],Ue=["uniqueKey"],Ze=function(t){var e=t.uniqueKey,n=M()(t,Le),r=F(),u=r.anotherFullNamePath,o=U(),s=o.namePaths,l=w(n.name),c=K(u,l),h=V(e),d=(0,i.useMemo)(function(){return{fullNamePath:s,anotherFullNamePath:c,uniqueKey:h}},[s,c,h]);return(0,f.jsx)(b,{value:d,children:(0,f.jsx)(S.Z.List,y()({},n))})},Ye=function(t){var e=t.uniqueKey,n=M()(t,Ue),r=F(),u=U(),o=u.namePaths,s=K(o,t.name),l=(0,i.useMemo)(function(){return{namePaths:s}},[s]);return typeof r.type!="undefined"?(0,f.jsx)(A,{value:l,children:(0,f.jsx)(Ze,y()(y()({},n),{},{uniqueKey:e}))}):(0,f.jsx)(A,{value:l,children:(0,f.jsx)(S.Z.List,y()({},n))})},$e=function(t){var e=t.children,n=t.noStatus,r=U(),u=r.fieldName,o=je(u),s=F(),l=s.statusInfo,c=s.type,h=s.firstStatus,d=X(),m=L(),x=(0,i.useMemo)(function(){if(l)return l;if(typeof o!="number")return c===N.SOURCE?d(I.REMOVE):d(I.ADD)},[o,l,c,d]),D=(0,i.useMemo)(function(){return{fieldName:u,anotherFieldName:o,statusInfo:x,firstStatus:!h&&!l&&!!x}},[u,h,o,x,l]),j=(0,i.useMemo)(function(){var C;return(C=m==null?void 0:m.wrapper)!==null&&C!==void 0?C:ee},[m==null?void 0:m.wrapper]);return(0,f.jsx)(b,{value:D,children:n?e:(0,f.jsx)(j,{children:e})})},Ve=function(t){var e=F(),n=(0,i.useMemo)(function(){return{fieldName:t.fieldName}},[t.fieldName]);return typeof e.type!="undefined"?(0,f.jsx)(A,{value:n,children:(0,f.jsx)($e,y()({},t))}):(0,f.jsx)(A,{value:n,children:t.children})},qe=function(t){var e=t.children,n=U();return e(n)},We=v(71230),ne=v(15746),ze=function(t){var e=t.source,n=t.target;return(0,f.jsxs)(We.Z,{gutter:[8,8],children:[(0,f.jsx)(ne.Z,{span:24,lg:12,children:e}),(0,f.jsx)(ne.Z,{span:24,lg:12,children:n})]})},Ge=function(t){var e=t.children,n=B();return e(n)},He=["diff"],P=function(t){var e=t.diff,n=M()(t,He),r=L(),u=(0,i.useMemo)(function(){var x={layout:n.layout,component:n.component,name:"source"};if(e===!0)return x;if(e)return y()(y()({},x),e)},[e,n.layout,n.component]),o=(0,i.useMemo)(function(){return y()({name:u?"target":void 0},n)},[n,u]),s=(0,i.useMemo)(function(){return{store:new Z,fullNamePath:[],anotherFullNamePath:[]}},[]),l=(0,i.useMemo)(function(){return{type:N.SOURCE}},[]),c=(0,i.useMemo)(function(){return{type:N.TARGET}},[]),h=(0,i.useMemo)(function(){return{type:l.type,name:u==null?void 0:u.name,disabled:u==null?void 0:u.disabled,namePaths:[]}},[u==null?void 0:u.disabled,u==null?void 0:u.name,l.type]),d=(0,i.useMemo)(function(){return{type:c.type,name:o==null?void 0:o.name,disabled:o==null?void 0:o.disabled,namePaths:[]}},[o==null?void 0:o.disabled,o==null?void 0:o.name,c.type]),m=(0,i.useMemo)(function(){var x;return(x=r==null?void 0:r.component)!==null&&x!==void 0?x:ze},[r==null?void 0:r.component]);return u?(0,f.jsx)(b,{value:s,children:(0,f.jsx)(m,{source:(0,f.jsx)(A,{value:h,children:(0,f.jsx)(b,{value:l,children:(0,f.jsx)(S.Z,y()(y()({},u),{},{children:o.children}))})}),target:(0,f.jsx)(A,{value:d,children:(0,f.jsx)(b,{value:c,children:(0,f.jsx)(S.Z,y()({},o))})})})}):(0,f.jsx)(A,{value:d,children:(0,f.jsx)(S.Z,y()({},o))})};P.Item=te,P.List=Ye,P.ListItem=Ve,P.ErrorList=S.Z.ErrorList,P.Info=qe,P.DiffStatus=Ge,P.useForm=S.Z.useForm,P.useFormInstance=S.Z.useFormInstance,P.useWatch=S.Z.useWatch,P.useDiffFormInfo=U,P.useDiffFormStatus=B;var ke=["children"],Be=function(t){var e=t.children,n=M()(t,ke);return e(n)}}}]);
